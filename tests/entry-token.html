<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <link rel="tokenscript" href="EntryToken.xml"/>
    <!-- this is for token negotiation! -->
    <meta tokens-accepted="entry-token" filter="expiry>=20180404"/>
    <!-- if without linked TokenScript, consider a synax like this
    <meta tokens-accepted="ethereum:1/0x63cCEF733a093E5Bd773b41C96D3eCE361464942/"/>
    -->
    <title>Showing the cards in a web page</title>
    <script type="text/javascript" src="tokenscript-bootstrap.js"/>
    <script type="text/javascript">
        async function once_negotiated() {
            const tokenCard = new token.TokenCard();
            // might be renderIn, need to find a comfortable method for seasoned React JS user
            await tokenCard.render(document.getElementById("card_container"));
            // alternatively, tokenCard.renderAsItem(…)
            document.getElementById("enter_button").onclick = (event) => {
                token.enterAction().then(
                    // … code to handle the result of enter action.
                )
            };
        }
        window.addEventListener("ontokennegotiation", once_negotiated);

        // If you don't like automatic negotiation
        // Negotiator.negotiate("entry-token", "expiry>=20180404")\
        function renegotiate() {
            // check negotiator
            Negotiator.negotiate("entry-token", "l=Syndey").then(once_negotiated);
        }
    </script>
</head>
<body>
<h1>Demonstration of showing a card in a web page</h1>
<h2>Token Card</h2>
<div id="card_container"></div>
<p><button id="enter_button">Enter</button></p>
<p><button id="new_token" onclick="renegotiate();">Try a different token in Sydney</button></p>
</body>
</html>
